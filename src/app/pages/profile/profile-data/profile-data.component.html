<app-header></app-header>

<section class="section_minha_conta profile" *ngIf="account$ | async as account">
  <div class="container" style="margin-bottom: 10rem; align-items: center;">
    <profile-heards class="profile-heards"></profile-heards>
    <profile-body class="profile-body">
      <app-menu-profile class="profile-body-menu"></app-menu-profile>
      <div class="col-12 col-md-6 col-lg-7">
        <div class="profileData d-flex justify-content-between flex-column">
          <mn-form class="form" [submitable]="updateDataPesonal" buttonName="Atualizar">
            <h4>
              <strong>Informações Pessoais</strong>
            </h4>
            <mn-input archetype="nome" placeholder="Nome Completo" [value]="account.name"
              (change)="changePersonalInfo($event, 'name')" size="sm" requery>
            </mn-input>
            <mn-input archetype="cpf,cnpj" placeholder="CPF/CNPJ" [value]="account.cpfCnpj"
              (change)="changePersonalInfo($event, 'cpfCnpj')" size="sm" requery>
            </mn-input>
            <mn-input archetype="phone" placeholder="Telefone" [value]="account.phone"
              (change)="changePersonalInfo($event, 'phone')" size="sm" requery>
            </mn-input>
          </mn-form>
          <br>

          <h4><strong>Informações de Login</strong></h4>
          <mn-form class="form pt-4" buttonName="Atualizar" [submitable]="updateDataLogin">
            <mn-input archetype="email" placeholder="Email" [(value)]="account.email"
              (change)="changePersonalLogin($event, 'email')" size="sm" requery>
            </mn-input>
            <mn-input archetype="password" placeholder="Nova senha" (change)="changePersonalLogin($event, 'password')"
              size="sm" requery>
            </mn-input>
          </mn-form>
          <br>

          <h4><strong>Endereço</strong></h4>
          <div *ngIf="account.address && !account.address.length; else singupAddress">
            <!-- Card informado ao usuário para cadastrar endereço -->

          </div>
          <br>
          <ng-template #singupAddress>
            <mn-form class="form" [submitable]="updateDataAddress" buttonName="Cadastrar Endereço">
              <mn-input archetype="email" placeholder="Rua" [(value)]="addressUpdated.street" size="sm" requery>
              </mn-input>
            </mn-form>
          </ng-template>
          <br>
        </div>

        <ng-template #loading>
          <div class="row">
            <div class="col-12">
              <div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
                <div>
                  <app-loading></app-loading>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </div>
    </profile-body>
  </div>
</section>

<app-footer></app-footer>
