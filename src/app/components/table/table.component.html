<table class="table" *ngIf="showcases | async as showcases; else loading ">

  <ng-container *ngIf="innerWidth >= 980">

    <thead *ngIf="showcases.length;">
      <tr class="bg-white">
        <th scope="col" class="pivo">Produto</th>
        <th scope="col">Categoria</th>
        <th scope="col">Pre√ßo/Unidade</th>
        <th scope="col">Unidade</th>
        <th scope="col">Adicionar ao carrinho</th>
      </tr>
    </thead>

    <tbody *ngIf="showcases.length; else productNull">
      <tr *ngFor="let showcase of showcases; index as i">
        <td scope="row" class="row-table">

          <div class="row-table">
            <div class="row-table-titles">
              {{ showcase.product.name }}
            </div>
            <!-- <div class="row-table-body">
              <span *ngIf="showcase">Valor parcial: {{ '' }}</span>
            </div> -->
          </div>

        </td>

        <td scope="row" class="row-table">
          <span class="row-table-category">
            {{ formatCategory(showcase.product.category) | titlecase }}
          </span>
        </td>

        <td scope="row" class="row-table">{{showcase.product.price | currency:'BRL':'symbol':'1.2-2' }}</td>

        <td scope="row" class="row-table">
          <div class="product-detail">

            <span class="product-detail-item">
              Caixa <mn-icon name="box" size="xs"></mn-icon>
              {{ showcase.product.package[0].name }}
            </span>

            <!-- <span *ngIf="product.typeCharge && product.typeCharge == 'unit' " class="product-detail-item">
              Peso <mn-icon name="balance" size="xs"></mn-icon>
              {{ product.product.product_attributes.weight_unit }} kg
            </span> -->

          </div>
        </td>

        <td scope="row" class="row-table pull-right">
          <button-init-cart *ngIf="!showcase.itemAdded" (click)="addItem(showcase.product)" size="default"></button-init-cart>
          <button-quantity *ngIf="showcase.itemAdded" [quantity]="showcase.selectedQuantity" [item]="showcase.product" (itemAdd)="addItem($event)" (itemRm)="removeItem($event)" ></button-quantity>
        </td>
      </tr>

    </tbody>

    <tbody>
      <tr *ngIf="showcases.length < 100">
        <td colspan="5" class="text-center bg-white">
          <button class="btn d-block m-auto btn_outline_green align-items-center" (click)="showProductsAll()">
            VER LISTA COMPLETA
          </button>
        </td>
      </tr>
    </tbody>

  </ng-container>

</table>


<ng-template #loading>
  <div class="row">
    <div class="col-12">
      <div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
        <div>
          <app-loading></app-loading>
        </div>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #productNull>
  <tr>
    <td colspan="5" class="text-center">
      <h5>Nenhum produto encontrado</h5>
    </td>
  </tr>
</ng-template>
